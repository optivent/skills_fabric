# SOURCE: https://github.com/NickvanDyke/opencode.nvim

[Skip to content](https://github.com/NickvanDyke/opencode.nvim#start-of-content)
## Navigation Menu
Toggle navigation
[ ](https://github.com/)
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2FNickvanDyke%2Fopencode.nvim)
Appearance settings
  * Platform
    * AI CODE CREATION
      * [ GitHub CopilotWrite better code with AI ](https://github.com/features/copilot)
      * [ GitHub SparkBuild and deploy intelligent apps ](https://github.com/features/spark)
      * [ GitHub ModelsManage and compare prompts ](https://github.com/features/models)
      * [ MCP RegistryNewIntegrate external tools ](https://github.com/mcp)
    * DEVELOPER WORKFLOWS
      * [ ActionsAutomate any workflow ](https://github.com/features/actions)
      * [ CodespacesInstant dev environments ](https://github.com/features/codespaces)
      * [ IssuesPlan and track work ](https://github.com/features/issues)
      * [ Code ReviewManage code changes ](https://github.com/features/code-review)
    * APPLICATION SECURITY
      * [ GitHub Advanced SecurityFind and fix vulnerabilities ](https://github.com/security/advanced-security)
      * [ Code securitySecure your code as you build ](https://github.com/security/advanced-security/code-security)
      * [ Secret protectionStop leaks before they start ](https://github.com/security/advanced-security/secret-protection)
    * EXPLORE
      * [Why GitHub](https://github.com/why-github)
      * [Documentation](https://docs.github.com)
      * [Blog](https://github.blog)
      * [Changelog](https://github.blog/changelog)
      * [Marketplace](https://github.com/marketplace)
[View all features](https://github.com/features)
  * Solutions
    * BY COMPANY SIZE
      * [Enterprises](https://github.com/enterprise)
      * [Small and medium teams](https://github.com/team)
      * [Startups](https://github.com/enterprise/startups)
      * [Nonprofits](https://github.com/solutions/industry/nonprofits)
    * BY USE CASE
      * [App Modernization](https://github.com/solutions/use-case/app-modernization)
      * [DevSecOps](https://github.com/solutions/use-case/devsecops)
      * [DevOps](https://github.com/solutions/use-case/devops)
      * [CI/CD](https://github.com/solutions/use-case/ci-cd)
      * [View all use cases](https://github.com/solutions/use-case)
    * BY INDUSTRY
      * [Healthcare](https://github.com/solutions/industry/healthcare)
      * [Financial services](https://github.com/solutions/industry/financial-services)
      * [Manufacturing](https://github.com/solutions/industry/manufacturing)
      * [Government](https://github.com/solutions/industry/government)
      * [View all industries](https://github.com/solutions/industry)
[View all solutions](https://github.com/solutions)
  * Resources
    * EXPLORE BY TOPIC
      * [AI](https://github.com/resources/articles?topic=ai)
      * [Software Development](https://github.com/resources/articles?topic=software-development)
      * [DevOps](https://github.com/resources/articles?topic=devops)
      * [Security](https://github.com/resources/articles?topic=security)
      * [View all topics](https://github.com/resources/articles)
    * EXPLORE BY TYPE
      * [Customer stories](https://github.com/customer-stories)
      * [Events & webinars](https://github.com/resources/events)
      * [Ebooks & reports](https://github.com/resources/whitepapers)
      * [Business insights](https://github.com/solutions/executive-insights)
      * [GitHub Skills](https://skills.github.com)
    * SUPPORT & SERVICES
      * [Documentation](https://docs.github.com)
      * [Customer support](https://support.github.com)
      * [Community forum](https://github.com/orgs/community/discussions)
      * [Trust center](https://github.com/trust-center)
      * [Partners](https://github.com/partners)
  * Open Source
    * COMMUNITY
      * [ GitHub SponsorsFund open source developers ](https://github.com/sponsors)
    * PROGRAMS
      * [Security Lab](https://securitylab.github.com)
      * [Maintainer Community](https://maintainers.github.com)
      * [Accelerator](https://github.com/accelerator)
      * [Archive Program](https://archiveprogram.github.com)
    * REPOSITORIES
      * [Topics](https://github.com/topics)
      * [Trending](https://github.com/trending)
      * [Collections](https://github.com/collections)
  * Enterprise
    * ENTERPRISE SOLUTIONS
      * [ Enterprise platformAI-powered developer platform ](https://github.com/enterprise)
    * AVAILABLE ADD-ONS
      * [ GitHub Advanced SecurityEnterprise-grade security features ](https://github.com/security/advanced-security)
      * [ Copilot for BusinessEnterprise-grade AI features ](https://github.com/features/copilot/copilot-business)
      * [ Premium SupportEnterprise-grade 24/7 support ](https://github.com/premium-support)
  * [Pricing](https://github.com/pricing)


Search or jump to...
# Search code, repositories, users, issues, pull requests...
Search 
Clear
[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)
#  Provide feedback 
We read every piece of feedback, and take your input very seriously.
Include my email address so I can be contacted
Cancel  Submit feedback 
#  Saved searches 
## Use saved searches to filter your results more quickly
Name
Query
To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). 
Cancel  Create saved search 
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2FNickvanDyke%2Fopencode.nvim)
[ Sign up ](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=NickvanDyke%2Fopencode.nvim)
Appearance settings
Resetting focus
You signed in with another tab or window. [Reload](https://github.com/NickvanDyke/opencode.nvim) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/NickvanDyke/opencode.nvim) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/NickvanDyke/opencode.nvim) to refresh your session. Dismiss alert
{{ message }}
[ NickvanDyke ](https://github.com/NickvanDyke) / **[opencode.nvim](https://github.com/NickvanDyke/opencode.nvim) ** Public
generated from [ellisonleao/nvim-plugin-template](https://github.com/ellisonleao/nvim-plugin-template)
  * [ Sponsor  ](https://github.com/sponsors/NickvanDyke)
  * [ ](https://github.com/login?return_to=%2FNickvanDyke%2Fopencode.nvim) You must be signed in to change notification settings
  * [ 43 ](https://github.com/login?return_to=%2FNickvanDyke%2Fopencode.nvim)
  * [ Star  1.3k ](https://github.com/login?return_to=%2FNickvanDyke%2Fopencode.nvim)


Integrate the opencode AI assistant with Neovim ‚Äî streamline editor-aware research, reviews, and requests. 
### License
[ ](https://github.com/NickvanDyke/opencode.nvim/blob/main/LICENSE)
[ 1.3k stars ](https://github.com/NickvanDyke/opencode.nvim/stargazers) [ 43 forks ](https://github.com/NickvanDyke/opencode.nvim/forks) [ Branches ](https://github.com/NickvanDyke/opencode.nvim/branches) [ Tags ](https://github.com/NickvanDyke/opencode.nvim/tags) [ Activity ](https://github.com/NickvanDyke/opencode.nvim/activity)
[ Star  ](https://github.com/login?return_to=%2FNickvanDyke%2Fopencode.nvim)
[ ](https://github.com/login?return_to=%2FNickvanDyke%2Fopencode.nvim) You must be signed in to change notification settings
  * [ Code ](https://github.com/NickvanDyke/opencode.nvim)
  * [ Issues 5 ](https://github.com/NickvanDyke/opencode.nvim/issues)
  * [ Pull requests 2 ](https://github.com/NickvanDyke/opencode.nvim/pulls)
  * [ Discussions ](https://github.com/NickvanDyke/opencode.nvim/discussions)
  * [ Actions ](https://github.com/NickvanDyke/opencode.nvim/actions)
  * [ Security ](https://github.com/NickvanDyke/opencode.nvim/security)
[ ](https://github.com/NickvanDyke/opencode.nvim/security)
[ ](https://github.com/NickvanDyke/opencode.nvim/security)
[ ](https://github.com/NickvanDyke/opencode.nvim/security)
### [ Uh oh!  ](https://github.com/NickvanDyke/opencode.nvim/security)
[There was an error while loading. ](https://github.com/NickvanDyke/opencode.nvim/security)[Please reload this page](https://github.com/NickvanDyke/opencode.nvim).
  * [ Insights ](https://github.com/NickvanDyke/opencode.nvim/pulse)


Additional navigation options
  * [ Code  ](https://github.com/NickvanDyke/opencode.nvim)
  * [ Issues  ](https://github.com/NickvanDyke/opencode.nvim/issues)
  * [ Pull requests  ](https://github.com/NickvanDyke/opencode.nvim/pulls)
  * [ Discussions  ](https://github.com/NickvanDyke/opencode.nvim/discussions)
  * [ Actions  ](https://github.com/NickvanDyke/opencode.nvim/actions)
  * [ Security  ](https://github.com/NickvanDyke/opencode.nvim/security)
  * [ Insights  ](https://github.com/NickvanDyke/opencode.nvim/pulse)


# NickvanDyke/opencode.nvim
main
[Branches](https://github.com/NickvanDyke/opencode.nvim/branches)[Tags](https://github.com/NickvanDyke/opencode.nvim/tags)
[](https://github.com/NickvanDyke/opencode.nvim/branches)[](https://github.com/NickvanDyke/opencode.nvim/tags)
Go to file
Code
Open more actions menu
## Folders and files
Name | Name | Last commit message | Last commit date  
---|---|---|---  
## Latest commit
## History
[605 Commits](https://github.com/NickvanDyke/opencode.nvim/commits/main/)[](https://github.com/NickvanDyke/opencode.nvim/commits/main/)  
[.github](https://github.com/NickvanDyke/opencode.nvim/tree/main/.github ".github") | [.github](https://github.com/NickvanDyke/opencode.nvim/tree/main/.github ".github") |  |   
[lua](https://github.com/NickvanDyke/opencode.nvim/tree/main/lua "lua") | [lua](https://github.com/NickvanDyke/opencode.nvim/tree/main/lua "lua") |  |   
[plugin](https://github.com/NickvanDyke/opencode.nvim/tree/main/plugin "plugin") | [plugin](https://github.com/NickvanDyke/opencode.nvim/tree/main/plugin "plugin") |  |   
[.gitignore](https://github.com/NickvanDyke/opencode.nvim/blob/main/.gitignore ".gitignore") | [.gitignore](https://github.com/NickvanDyke/opencode.nvim/blob/main/.gitignore ".gitignore") |  |   
[.luarc.ci.json](https://github.com/NickvanDyke/opencode.nvim/blob/main/.luarc.ci.json ".luarc.ci.json") | [.luarc.ci.json](https://github.com/NickvanDyke/opencode.nvim/blob/main/.luarc.ci.json ".luarc.ci.json") |  |   
[.stylua.toml](https://github.com/NickvanDyke/opencode.nvim/blob/main/.stylua.toml ".stylua.toml") | [.stylua.toml](https://github.com/NickvanDyke/opencode.nvim/blob/main/.stylua.toml ".stylua.toml") |  |   
[LICENSE](https://github.com/NickvanDyke/opencode.nvim/blob/main/LICENSE "LICENSE") | [LICENSE](https://github.com/NickvanDyke/opencode.nvim/blob/main/LICENSE "LICENSE") |  |   
[README.md](https://github.com/NickvanDyke/opencode.nvim/blob/main/README.md "README.md") | [README.md](https://github.com/NickvanDyke/opencode.nvim/blob/main/README.md "README.md") |  |   
View all files  
## Repository files navigation
  * [README](https://github.com/NickvanDyke/opencode.nvim)
  * [MIT license](https://github.com/NickvanDyke/opencode.nvim)


# opencode.nvim
[](https://github.com/NickvanDyke/opencode.nvim#opencodenvim)
Integrate the [opencode](https://github.com/sst/opencode) AI assistant with Neovim ‚Äî streamline editor-aware research, reviews, and requests.
demo.mp4
## ‚ú® Features
[](https://github.com/NickvanDyke/opencode.nvim#-features)
  * Auto-connect to _any_ `opencode` running inside Neovim's CWD, or provide an integrated instance.
  * Input prompts with completions, highlights, and normal-mode support.
  * Select prompts from a library and define your own.
  * Share editor context (buffer, cursor, selection, diagnostics, etc.).
  * Execute commands.
  * Respond to permission requests.
  * Reload edited buffers in real-time.
  * Monitor state via statusline component.
  * Forward Server-Sent-Events as autocmds for automation.
  * Sensible defaults with well-documented, flexible configuration and API to fit your workflow.
  * _Vim-y_ ‚Äî supports ranges and dot-repeat.


## üì¶ Setup
[](https://github.com/NickvanDyke/opencode.nvim#-setup)
Run `:checkhealth opencode` after setup.
### [lazy.nvim](https://github.com/folke/lazy.nvim)
[](https://github.com/NickvanDyke/opencode.nvim#lazynvim)
```
{
  "NickvanDyke/opencode.nvim",
  dependencies = {
    -- Recommended for `ask()` and `select()`.
    -- Required for `snacks` provider.
    ---@module 'snacks' <- Loads `snacks.nvim` types for configuration intellisense.
    { "folke/snacks.nvim", opts = { input = {}, picker = {}, terminal = {} } },
  },
  config = function()
    ---@type opencode.Opts
    vim.g.opencode_opts = {
      -- Your configuration, if any ‚Äî see `lua/opencode/config.lua`, or "goto definition".
    }

    -- Required for `opts.events.reload`.
    vim.o.autoread = true

    -- Recommended/example keymaps.
    vim.keymap.set({ "n", "x" }, "<C-a>", function() require("opencode").ask("@this: ", { submit = true }) end, { desc = "Ask opencode" })
    vim.keymap.set({ "n", "x" }, "<C-x>", function() require("opencode").select() end,                          { desc = "Execute opencode action‚Ä¶" })
    vim.keymap.set({ "n", "t" }, "<C-.>", function() require("opencode").toggle() end,                          { desc = "Toggle opencode" })

    vim.keymap.set({ "n", "x" }, "go",  function() return require("opencode").operator("@this ") end,        { expr = true, desc = "Add range to opencode" })
    vim.keymap.set("n",          "goo", function() return require("opencode").operator("@this ") .. "_" end, { expr = true, desc = "Add line to opencode" })

    vim.keymap.set("n", "<S-C-u>", function() require("opencode").command("session.half.page.up") end,   { desc = "opencode half page up" })
    vim.keymap.set("n", "<S-C-d>", function() require("opencode").command("session.half.page.down") end, { desc = "opencode half page down" })

    -- You may want these if you stick with the opinionated "<C-a>" and "<C-x>" above ‚Äî otherwise consider "<leader>o".
    vim.keymap.set("n", "+", "<C-a>", { desc = "Increment", noremap = true })
    vim.keymap.set("n", "-", "<C-x>", { desc = "Decrement", noremap = true })
  end,
}
```

### [nixvim](https://github.com/nix-community/nixvim)
[](https://github.com/NickvanDyke/opencode.nvim#nixvim)
```
programs.nixvim = {
  extraPlugins = [
    pkgs.vimPlugins.opencode-nvim
  ];
};
```

## ‚öôÔ∏è Configuration
[](https://github.com/NickvanDyke/opencode.nvim#%EF%B8%8F-configuration)
`opencode.nvim` provides a rich and reliable default experience ‚Äî see all available options and their defaults [here](https://github.com/NickvanDyke/opencode.nvim/blob/main/lua/opencode/config.lua).
### Contexts
[](https://github.com/NickvanDyke/opencode.nvim#contexts)
`opencode.nvim` replaces placeholders in prompts with the corresponding context:
Placeholder | Context  
---|---  
`@this` | Operator range or visual selection if any, else cursor position  
`@buffer` | Current buffer  
`@buffers` | Open buffers  
`@visible` | Visible text  
`@diagnostics` | Current buffer diagnostics  
`@quickfix` | Quickfix list  
`@diff` | Git diff  
`@grapple` |  [grapple.nvim](https://github.com/cbochs/grapple.nvim) tags  
### Prompts
[](https://github.com/NickvanDyke/opencode.nvim#prompts)
Select or reference prompts to review, explain, and improve your code:
Name | Prompt  
---|---  
`diagnostics` | Explain `@diagnostics`  
`diff` | Review the following git diff for correctness and readability: `@diff`  
`document` | Add comments documenting `@this`  
`explain` | Explain `@this` and its context  
`fix` | Fix `@diagnostics`  
`implement` | Implement `@this`  
`optimize` | Optimize `@this` for performance and readability  
`review` | Review `@this` for correctness and readability  
`test` | Add tests for `@this`  
### Provider
[](https://github.com/NickvanDyke/opencode.nvim#provider)
You can manually run `opencode` inside Neovim's CWD however you like and `opencode.nvim` will find it!
If `opencode.nvim` can't find an existing `opencode`, it uses the configured provider (defaulting based on availability) to manage one for you.
[Neovim terminal](https://neovim.io/doc/user/terminal.html)
```
vim.g.opencode_opts = {
  provider = {
    enabled = "terminal",
    terminal = {
      -- ...
    }
  }
}
```

[snacks.terminal](https://github.com/folke/snacks.nvim/blob/main/docs/terminal.md)
```
vim.g.opencode_opts = {
  provider = {
    enabled = "snacks",
    snacks = {
      -- ...
    }
  }
}
```

[kitty](https://sw.kovidgoyal.net/kitty/)
```
vim.g.opencode_opts = {
  provider = {
    enabled = "kitty",
    kitty = {
      -- ...
    }
  }
}
```

The kitty provider requires [remote control via a socket](https://sw.kovidgoyal.net/kitty/remote-control/#remote-control-via-a-socket) to be enabled.
You can do this either by running Kitty with the following command:
```
# For Linux only:
kitty -o allow_remote_control=yes --single-instance --listen-on unix:@mykitty

# Other UNIX systems:
kitty -o allow_remote_control=yes --single-instance --listen-on unix:/tmp/mykitty
```

OR, by adding the following to your `kitty.conf`:
```
# For Linux only:
allow_remote_control yes
listen_on unix:@mykitty
# Other UNIX systems:
allow_remote_control yes
listen_on unix:/tmp/kitty

```

[wezterm](https://wezterm.org/)
```
vim.g.opencode_opts = {
  provider = {
    enabled = "wezterm",
    wezterm = {
      -- ...
    }
  }
}
```

[tmux](https://github.com/tmux/tmux)
```
vim.g.opencode_opts = {
  provider = {
    enabled = "tmux",
    tmux = {
      -- ...
    }
  }
}
```

custom
Integrate your custom method for convenience!
```
vim.g.opencode_opts = {
  provider = {
    toggle = function(self)
      -- ...
    end,
    start = function(self)
      -- ...
    end,
    stop = function(self)
      -- ...
    end,
  }
}
```

Please submit PRs adding new providers! üôÇ
## üöÄ Usage
[](https://github.com/NickvanDyke/opencode.nvim#-usage)
### ‚úçÔ∏è Ask ‚Äî `require("opencode").ask()`
[](https://github.com/NickvanDyke/opencode.nvim#%EF%B8%8F-ask--requireopencodeask)
Input a prompt for `opencode`.
  * Press `<Up>` to browse recent asks.
  * Highlights and completes contexts and `opencode` subagents. 
    * Press `<Tab>` to trigger built-in completion.
    * Registers `opts.ask.blink_cmp_sources` when using `snacks.input` and `blink.cmp`.

[![image](https://private-user-images.githubusercontent.com/15321434/508572985-8591c610-4824-4480-9e6d-0c94e9c18f3a.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjcxMzg1NDcsIm5iZiI6MTc2NzEzODI0NywicGF0aCI6Ii8xNTMyMTQzNC81MDg1NzI5ODUtODU5MWM2MTAtNDgyNC00NDgwLTllNmQtMGM5NGU5YzE4ZjNhLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTEyMzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUxMjMwVDIzNDQwN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTQwYjNiNGNlYjhmYmI1ZGY2OGZlZDcxMGEwZWM5YjAzYWNlNjY4YzZlYmRmN2ViYWUwYTBiZWJjYTY2ZmZkNjMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.t9WsgJQCMfo3VZZXTEPT9bB-x5XAchz7DfbaFOrmyZc)](https://private-user-images.githubusercontent.com/15321434/508572985-8591c610-4824-4480-9e6d-0c94e9c18f3a.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjcxMzg1NDcsIm5iZiI6MTc2NzEzODI0NywicGF0aCI6Ii8xNTMyMTQzNC81MDg1NzI5ODUtODU5MWM2MTAtNDgyNC00NDgwLTllNmQtMGM5NGU5YzE4ZjNhLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTEyMzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUxMjMwVDIzNDQwN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTQwYjNiNGNlYjhmYmI1ZGY2OGZlZDcxMGEwZWM5YjAzYWNlNjY4YzZlYmRmN2ViYWUwYTBiZWJjYTY2ZmZkNjMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.t9WsgJQCMfo3VZZXTEPT9bB-x5XAchz7DfbaFOrmyZc)
### üìù Select ‚Äî `require("opencode").select()`
[](https://github.com/NickvanDyke/opencode.nvim#-select--requireopencodeselect)
Select from all `opencode.nvim` functionality.
  * Fetches custom commands from `opencode`.
  * Highlights and previews items when using `snacks.picker`.

[![image](https://private-user-images.githubusercontent.com/15321434/508569010-afd85acd-e4b3-47d2-b92f-f58d25972edb.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjcxMzg1NDcsIm5iZiI6MTc2NzEzODI0NywicGF0aCI6Ii8xNTMyMTQzNC81MDg1NjkwMTAtYWZkODVhY2QtZTRiMy00N2QyLWI5MmYtZjU4ZDI1OTcyZWRiLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTEyMzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUxMjMwVDIzNDQwN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWQxZTkwNDY5NzE5YjhiNjJlNjVhODJlNTMwZTBmMmNhNWY3MTMwYWQ4YzNiYzMxOTIxZDc1NjI3ZjZiNTU2YjImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.cTS184vbNCgHDHAgp6Yx9fh0Rl5TzknAwDxiuFG2hM0)](https://private-user-images.githubusercontent.com/15321434/508569010-afd85acd-e4b3-47d2-b92f-f58d25972edb.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjcxMzg1NDcsIm5iZiI6MTc2NzEzODI0NywicGF0aCI6Ii8xNTMyMTQzNC81MDg1NjkwMTAtYWZkODVhY2QtZTRiMy00N2QyLWI5MmYtZjU4ZDI1OTcyZWRiLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTEyMzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUxMjMwVDIzNDQwN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWQxZTkwNDY5NzE5YjhiNjJlNjVhODJlNTMwZTBmMmNhNWY3MTMwYWQ4YzNiYzMxOTIxZDc1NjI3ZjZiNTU2YjImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.cTS184vbNCgHDHAgp6Yx9fh0Rl5TzknAwDxiuFG2hM0)
### üó£Ô∏è Prompt ‚Äî `require("opencode").prompt()`
[](https://github.com/NickvanDyke/opencode.nvim#%EF%B8%8F-prompt--requireopencodeprompt)
Prompt `opencode`.
  * Resolves named references to configured prompts.
  * Injects configured contexts.
  * `opencode` will interpret `@` references to files or subagents.


### üßë‚Äçüî¨ Operator ‚Äî `require("opencode").operator()`
[](https://github.com/NickvanDyke/opencode.nvim#%E2%80%8D-operator--requireopencodeoperator)
Wraps `prompt` as an operator, supporting ranges and dot-repeat.
### üßë‚Äçüè´ Command ‚Äî `require("opencode").command()`
[](https://github.com/NickvanDyke/opencode.nvim#%E2%80%8D-command--requireopencodecommand)
Command `opencode`:
Command | Description  
---|---  
`session.list` | List sessions  
`session.new` | Start a new session  
`session.share` | Share the current session  
`session.interrupt` | Interrupt the current session  
`session.compact` | Compact the current session (reduce context size)  
`session.page.up` | Scroll messages up by one page  
`session.page.down` | Scroll messages down by one page  
`session.half.page.up` | Scroll messages up by half a page  
`session.half.page.down` | Scroll messages down by half a page  
`session.first` | Jump to the first message in the session  
`session.last` | Jump to the last message in the session  
`session.undo` | Undo the last action in the current session  
`session.redo` | Redo the last undone action in the current session  
`prompt.submit` | Submit the TUI input  
`prompt.clear` | Clear the TUI input  
`agent.cycle` | Cycle the selected agent  
## üëÄ Events
[](https://github.com/NickvanDyke/opencode.nvim#-events)
`opencode.nvim` forwards `opencode`'s Server-Sent-Events as an `OpencodeEvent` autocmd:
```
-- Handle `opencode` events
vim.api.nvim_create_autocmd("User", {
  pattern = "OpencodeEvent:*", -- Optionally filter event types
  callback = function(args)
    ---@type opencode.cli.client.Event
    local event = args.data.event
    ---@type number
    local port = args.data.port

    -- See the available event types and their properties
    vim.notify(vim.inspect(event))
    -- Do something useful
    if event.type == "session.idle" then
      vim.notify("`opencode` finished responding")
    end
  end,
})
```

### Edits
[](https://github.com/NickvanDyke/opencode.nvim#edits)
When `opencode` edits a file, `opencode.nvim` automatically reloads the corresponding buffer.
### Permissions
[](https://github.com/NickvanDyke/opencode.nvim#permissions)
When `opencode` requests a permission, `opencode.nvim` waits for idle to ask you to approve or deny it.
[![image](https://private-user-images.githubusercontent.com/15321434/508577937-643681ca-75db-4621-8a4a-e744c03c4b4f.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjcxMzg1NDcsIm5iZiI6MTc2NzEzODI0NywicGF0aCI6Ii8xNTMyMTQzNC81MDg1Nzc5MzctNjQzNjgxY2EtNzVkYi00NjIxLThhNGEtZTc0NGMwM2M0YjRmLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTEyMzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUxMjMwVDIzNDQwN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTIzYmZkYTRiNDc5ZjczYmUyY2RjZjgzMjQ1Zjk3NjJmZTQ4MjhiMTk4Y2E3M2ZmODM0OTk2OTkzOTEyNDE2ZmUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.CbFQAD1ENmbJa0DhTZl6AT4r__XPyZ4tUF09hT0-tdQ)](https://private-user-images.githubusercontent.com/15321434/508577937-643681ca-75db-4621-8a4a-e744c03c4b4f.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjcxMzg1NDcsIm5iZiI6MTc2NzEzODI0NywicGF0aCI6Ii8xNTMyMTQzNC81MDg1Nzc5MzctNjQzNjgxY2EtNzVkYi00NjIxLThhNGEtZTc0NGMwM2M0YjRmLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTEyMzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUxMjMwVDIzNDQwN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTIzYmZkYTRiNDc5ZjczYmUyY2RjZjgzMjQ1Zjk3NjJmZTQ4MjhiMTk4Y2E3M2ZmODM0OTk2OTkzOTEyNDE2ZmUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.CbFQAD1ENmbJa0DhTZl6AT4r__XPyZ4tUF09hT0-tdQ)
### Statusline
[](https://github.com/NickvanDyke/opencode.nvim#statusline)
[lualine](https://github.com/nvim-lualine/lualine.nvim)
```
require("lualine").setup({
  sections = {
    lualine_z = {
      {
        require("opencode").statusline,
      },
    }
  }
})
```

## üôè Acknowledgments
[](https://github.com/NickvanDyke/opencode.nvim#-acknowledgments)
  * Inspired by [nvim-aider](https://github.com/GeorgesAlkhouri/nvim-aider), [neopencode.nvim](https://github.com/loukotal/neopencode.nvim), and [sidekick.nvim](https://github.com/folke/sidekick.nvim).
  * Uses `opencode`'s TUI for simplicity ‚Äî see [sudo-tee/opencode.nvim](https://github.com/sudo-tee/opencode.nvim) for a Neovim frontend.
  * [mcp-neovim-server](https://github.com/bigcodegen/mcp-neovim-server) may better suit you, but it lacks customization and tool calls are slow and unreliable.


## About
Integrate the opencode AI assistant with Neovim ‚Äî streamline editor-aware research, reviews, and requests. 
### Topics
[ plugin ](https://github.com/topics/plugin "Topic: plugin") [ terminal ](https://github.com/topics/terminal "Topic: terminal") [ neovim ](https://github.com/topics/neovim "Topic: neovim") [ opencode ](https://github.com/topics/opencode "Topic: opencode") [ nvim ](https://github.com/topics/nvim "Topic: nvim") [ neovim-plugin ](https://github.com/topics/neovim-plugin "Topic: neovim-plugin") [ ai-agents ](https://github.com/topics/ai-agents "Topic: ai-agents") [ ai-assistant ](https://github.com/topics/ai-assistant "Topic: ai-assistant")
### Resources
[ ](https://github.com/NickvanDyke/opencode.nvim#readme-ov-file)
### License
[ ](https://github.com/NickvanDyke/opencode.nvim#MIT-1-ov-file)
###  Uh oh! 
There was an error while loading. [Please reload this page](https://github.com/NickvanDyke/opencode.nvim).
[Activity](https://github.com/NickvanDyke/opencode.nvim/activity)
### Stars
[**1.3k** stars](https://github.com/NickvanDyke/opencode.nvim/stargazers)
### Watchers
[**6** watching](https://github.com/NickvanDyke/opencode.nvim/watchers)
### Forks
[**43** forks](https://github.com/NickvanDyke/opencode.nvim/forks)
[ Report repository ](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FNickvanDyke%2Fopencode.nvim&report=NickvanDyke+%28user%29)
## Sponsor this project
[ ![@NickvanDyke](https://avatars.githubusercontent.com/u/15321434?s=64&v=4) ](https://github.com/NickvanDyke) [ **NickvanDyke** Nick van Dyke ](https://github.com/NickvanDyke)
[ Sponsor  ](https://github.com/sponsors/NickvanDyke)
[Learn more about GitHub Sponsors](https://github.com/sponsors)
##  [Contributors 21](https://github.com/NickvanDyke/opencode.nvim/graphs/contributors)
  * [ ![@NickvanDyke](https://avatars.githubusercontent.com/u/15321434?s=64&v=4) ](https://github.com/NickvanDyke)
  * [ ![@yunxi177](https://avatars.githubusercontent.com/u/13270237?s=64&v=4) ](https://github.com/yunxi177)
  * [ ![@christo-auer](https://avatars.githubusercontent.com/u/15138131?s=64&v=4) ](https://github.com/christo-auer)
  * [ ![@chuan2984](https://avatars.githubusercontent.com/u/70663049?s=64&v=4) ](https://github.com/chuan2984)
  * [ ![@juanperi](https://avatars.githubusercontent.com/u/203349?s=64&v=4) ](https://github.com/juanperi)
  * [ ![@ghosert](https://avatars.githubusercontent.com/u/236040?s=64&v=4) ](https://github.com/ghosert)
  * [ ![@tonylambert](https://avatars.githubusercontent.com/u/688221?s=64&v=4) ](https://github.com/tonylambert)
  * [ ![@carlosflorencio](https://avatars.githubusercontent.com/u/1500881?s=64&v=4) ](https://github.com/carlosflorencio)
  * [ ![@tghosgor](https://avatars.githubusercontent.com/u/4239032?s=64&v=4) ](https://github.com/tghosgor)
  * [ ![@jerome-benoit](https://avatars.githubusercontent.com/u/6537332?s=64&v=4) ](https://github.com/jerome-benoit)
  * [ ![@gitfudge0](https://avatars.githubusercontent.com/u/17596157?s=64&v=4) ](https://github.com/gitfudge0)
  * [ ![@xamcost](https://avatars.githubusercontent.com/u/24434420?s=64&v=4) ](https://github.com/xamcost)
  * [ ![@danilevy1212](https://avatars.githubusercontent.com/u/32525865?s=64&v=4) ](https://github.com/danilevy1212)
  * [ ![@thazhemadam](https://avatars.githubusercontent.com/u/47104651?s=64&v=4) ](https://github.com/thazhemadam)


[+ 7 contributors](https://github.com/NickvanDyke/opencode.nvim/graphs/contributors)
## Languages
  * [ Lua 100.0% ](https://github.com/NickvanDyke/opencode.nvim/search?l=lua)


## Footer
[ ](https://github.com) ¬© 2025 GitHub, Inc. 
### Footer navigation
  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Community](https://github.community/)
  * [Docs](https://docs.github.com/)
  * [Contact](https://support.github.com?tags=dotcom-footer)
  * Manage cookies 
  * Do not share my personal information 


