[![Code Wiki logo](https://www.gstatic.com/_/boq-sdlc-agents-ui/_/r/JA1YkbZh5pk.svg)![Code Wiki logo](https://www.gstatic.com/_/boq-sdlc-agents-ui/_/r/Mvosg4klCA4.svg)](https://codewiki.google/)
dark_mode
sharespark Chat 
On this page
Loguru Core Library 
Project Security and Vulnerability Reporting 
Supported Versions and Patching Policy 
Vulnerability Reporting Process 
This wiki was automatically generated on Jan 1, 2026 based on commit [`36da8cc`](https://github.com/delgan/loguru/tree/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb). Gemini can make mistakes, so double-check it. 
#  delgan/loguru
sparkPowered by Gemini
[](https://github.com/delgan/loguru)
On this page
Loguru Core Library 
Project Security and Vulnerability Reporting 
Supported Versions and Patching Policy 
Vulnerability Reporting Process 
This wiki was automatically generated on Jan 1, 2026 based on commit [`36da8cc`](https://github.com/delgan/loguru/tree/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb). Gemini can make mistakes, so double-check it. 
zoom_in
Loguru provides a logging system for Python applications. It simplifies log message generation and directs them to various output targets. The system offers enhanced debugging capabilities and robust configuration options.
The logging interface centers around a single, pre-configured logger object. This object streamlines the process of emitting log messages.
Key functional areas of the Loguru system include:
  * **Flexible Output Sinks:** Loguru manages the delivery of log messages to diverse destinations, known as sinks. These include writing to files, standard output streams, or integrating with custom functions and [`asyncio`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L72) operations. [Flexible Sink Implementation and Management](https://codewiki.google/github.com/Delgan/loguru#loguru-core-library-flexible-sink-implementation-and-management) provides further details on these mechanisms.
  * **Enhanced Debugging and Diagnostics:** The library enhances exception handling by generating detailed, colorized tracebacks. These tracebacks include variable inspection, aiding in rapid problem identification. The system also prevents logging errors from impacting application stability. For more information, see [Enhanced Exception Handling and Diagnostics](https://codewiki.google/github.com/Delgan/loguru#loguru-core-library-enhanced-exception-handling-and-diagnostics).
  * **Configurable Log Levels:** Users configure log levels, allowing for precise control over message severity and display characteristics.
  * **Multiprocessing Safety:** Loguru supports safe logging in multiprocessing environments. It can queue log records for asynchronous processing, which isolates logging operations from the main application flow.
  * **Contextual Log Enrichment:** Log messages can be enriched with additional data. This includes temporary bindings, thread-local or asynchronous context, and dynamic modifications to log records. [Contextual Logging Mechanisms](https://codewiki.google/github.com/Delgan/loguru#loguru-core-library-contextual-logging-mechanisms) elaborates on these features.
  * **Advanced Utilities and Cross-Platform Compatibility:** The system includes utilities to ensure consistent behavior across different operating systems. These handle [`asyncio`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L72) event loop management, platform-specific file creation time, sophisticated ANSI colorization, and robust parsing of various string formats (e.g., durations, sizes). [Advanced Utilities and Cross-Platform Compatibility](https://codewiki.google/github.com/Delgan/loguru#loguru-core-library-advanced-utilities-and-cross-platform-compatibility) provides further details.


## Loguru Core Library
link
zoom_in
Loguru provides a simplified approach to Python logging through a single, pre-instanced [`logger`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L231) object. This [`logger`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L231), initialized in [`loguru/__init__.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/__init__.py) as an instance of the [`_Logger`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/__init__.py#L12) class from [`loguru/_logger.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py), serves as the primary interface for all logging operations. By default, it automatically directs logs to [`_sys.stderr`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/__init__.py#L31) and registers a shutdown hook to ensure proper resource release upon interpreter termination.
The library offers flexible sink configurations, allowing logs to be directed to various output targets through the [`logger.add()`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L963) method. Sinks can include files, standard streams ([`sys.stdout`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L134), [`sys.stderr`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L83)), custom callables, [`asyncio`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L72) coroutines, or standard [`logging.Handler`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L309) instances. This flexibility is managed by the [`Handler`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_handler.py#L31) class in [`loguru/_handler.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_handler.py), which processes log records, applies filters and formats, and dispatches them to specialized sink types such as [`StreamSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_simple_sinks.py#L8), [`StandardSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_simple_sinks.py#L53), [`AsyncSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_simple_sinks.py#L116), [`CallableSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_simple_sinks.py#L207) (all in [`loguru/_simple_sinks.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_simple_sinks.py)), and [`FileSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_file_sink.py#L164) ([`loguru/_file_sink.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_file_sink.py)). The [`FileSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_file_sink.py#L164) supports advanced features like log file rotation, retention, and compression.
For debugging, Loguru enhances exception tracebacks, providing colorized and detailed output with variable inspection. This functionality is managed by the classes within [`loguru/_better_exceptions.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_better_exceptions.py), which generate enhanced tracebacks, including handling chained exceptions and [`ExceptionGroup`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L33)s. To prevent logging errors from crashing the application, Loguru incorporates an [`ErrorInterceptor`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_error_interceptor.py#L5) ([`loguru/_error_interceptor.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_error_interceptor.py)) that catches and reports exceptions during logging operations to [`sys.stderr`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L83).
Log levels are configurable, allowing users to define custom levels and their associated severities, colors, and icons using the [`level`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L1601) method. This enables fine-grained control over which messages are processed and how they are displayed.
To ensure multiprocessing safety, Loguru offers an [`enqueue=True`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L142) option for sinks. When enabled, log records are placed into a [`multiprocessing.SimpleQueue`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_handler.py#L93) and processed by a separate daemon thread, decoupling the logging process from the main application thread and making it safe for concurrent execution in multiprocessing environments. The [`loguru/_locks_machinery.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_locks_machinery.py) file provides thread-safe lock creation for logging, managing potential deadlocks during process forking by registering fork handlers to acquire and release locks.
### Enhanced Exception Handling and Diagnostics
link
python 
content_copyCopy
# a.py from loguru import logger import sys logger.remove() # Configure logger to output enhanced tracebacks logger.add(sys.stderr, format="", diagnose=True, backtrace=True, colorize=True) # Using @logger.catch as a decorator @logger.catch def decorated_function(): a = 1 b = 0 a / b # This will raise a ZeroDivisionError # Using logger.catch as a context manager def context_manager_example(): x = 10 y = "hello" try: # Simulate a more complex error or a chained exception raise ValueError("Initial error") except ValueError as e: with logger.catch(): # This will create a chained exception: ValueError -> TypeError z = x + y # This will raise a TypeError # Using logger.catch to wrap a function def wrapped_function(): # Simulate an ExceptionGroup (requires Python 3.11+) # Or, if older Python, simulate a simple error. if sys.version_info >= (3, 11): raise ExceptionGroup("Multiple errors", [TypeError("Type error!"), ValueError("Value error!")]) else: raise RuntimeError("A simple runtime error") # Call the functions to trigger exceptions decorated_function() context_manager_example() # Wrap the function call directly with logger.catch for immediate handling logger.catch()(wrapped_function)() 
Loguru's exception handling provides enhanced tracebacks, offering more detailed and visually organized error information than standard Python outputs. These tracebacks are colorized for improved readability and include variable inspection, which displays the values of relevant variables at the point of an exception. This diagnostic capability is particularly useful for debugging complex issues by providing immediate context about the state of the program.
The system handles various exception patterns, including chained exceptions (where one exception causes another) and Python 3.11's [`ExceptionGroup`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L33)s. [`ExceptionGroup`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L33)s allow for the bundling of multiple exceptions, which Loguru can deconstruct and present in a structured, nested format, indicating relationships between different errors.
Loguru facilitates exception capture through the [`catch`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L1169) mechanism, which can be applied as a decorator or a context manager. This allows developers to wrap functions or blocks of code, ensuring that any exceptions raised within them are automatically logged with the enhanced traceback features.
To prevent logging-related errors from affecting the main application, Loguru incorporates an [`ErrorInterceptor`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_error_interceptor.py#L5). This component, primarily defined in [`loguru/_error_interceptor.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_error_interceptor.py), catches exceptions that occur within Loguru's internal logging operations (such as issues during output formatting or sink processing) and reports them to [`sys.stderr`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L83). This isolation mechanism ensures the robustness of the logging system, preventing it from becoming a source of application instability.
### Flexible Sink Implementation and Management
link
zoom_in
Loguru's logging architecture is built around the concept of "sinks," which are responsible for the final output of log messages. The core component for managing these sinks is the [`Handler`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_handler.py#L31) class, defined in [`loguru/_handler.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_handler.py). This class processes log records, applies formatting, and then dispatches them to various sink types, offering flexible output options.
The [`Handler`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_handler.py#L31) first filters log records based on level and any user-defined filter functions, as detailed in [`loguru/_filters.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_filters.py). It then formats the message, optionally colorizing it, and serializes it if configured. For performance, especially with dynamic formats, pre-formatted strings are cached using [`functools.lru_cache`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_handler.py#L24).
To ensure non-blocking I/O and support multiprocessing, the [`Handler`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_handler.py#L31) can enqueue log records to be processed in a separate thread or process. This asynchronous mechanism uses [`multiprocessing.SimpleQueue`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_handler.py#L93) to offload writing operations, improving application responsiveness. The [`_queued_writer`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_handler.py#L290) function, running in a daemon thread, retrieves messages from this queue and writes them to the designated sink. This design choice is particularly important for scenarios where logging to slow I/O devices might otherwise impact application performance.
Loguru provides several built-in sink implementations in [`loguru/_simple_sinks.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_simple_sinks.py) and [`loguru/_file_sink.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_file_sink.py):
  * **[`StreamSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_simple_sinks.py#L8)**: Directs log messages to standard Python stream objects, such as[`sys.stdout`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L134) or [`sys.stderr`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L83). It can also handle flushing and closing of these streams.
  * **[`StandardSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_simple_sinks.py#L53)**: Integrates Loguru with Python's native[`logging`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L297) module, allowing Loguru messages to be processed by existing [`logging.Handler`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L309) instances. This ensures compatibility and consistent exception formatting between the two systems.
  * **[`AsyncSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_simple_sinks.py#L116)**: Enables asynchronous processing of log messages by invoking an[`async`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L139) function for each message. It manages [`asyncio`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L72) tasks, handles exceptions within these tasks, and tracks pending operations.
  * **[`CallableSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_simple_sinks.py#L207)**: Offers a straightforward way to direct log messages to any arbitrary callable function, providing maximum flexibility for custom processing.
  * **[`FileSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_file_sink.py#L164)**: This is a sophisticated sink, implemented in[`loguru/_file_sink.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_file_sink.py), designed for writing logs to files. It manages the entire lifecycle of log files, including: 
    * **Rotation** : Automatically creating new log files based on criteria like file size, time intervals, or specific times of day. This prevents log files from growing indefinitely.
    * **Retention** : Deleting older log files based on their count or age, managing disk space effectively.
    * **Compression** : Archiving rotated log files into various formats (e.g., gzip, zip) to save storage.
    * **File Watching** : Detecting external changes to the log file (e.g., if it's moved or deleted by another process) and reopening it to ensure continuous logging.


The configuration for [`FileSink`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_file_sink.py#L164)'s rotation, retention, and compression features leverages a system where human-readable strings (e.g., "10 MB" for size, "1 week" for retention) are parsed and converted into callable functions. This modular approach allows for complex logging behaviors to be defined concisely.
### Contextual Logging Mechanisms
link
python 
content_copyCopy
# Assume 'logger' is already configured, e.g., logger.add(sys.stderr, format="{message} | {extra}") # Using logger.bind() to add temporary, chained context bound_logger = logger.bind(user_id="user_123") bound_logger.info("User action completed.") # Expected output: User action completed. | {'user_id': 'user_123'} # Using logger.contextualize() for block-level context with logger.contextualize(request_id="req_456"): logger.info("Inside request context.") # Expected output: Inside request context. | {'request_id': 'req_456'} logger.info("Outside request context.") # Expected output: Outside request context. | {} # Using logger.patch() to modify the record dynamically def add_timestamp(record): import datetime record["extra"]["utc_time"] = datetime.datetime.utcnow().isoformat() patched_logger = logger.patch(add_timestamp) patched_logger.info("Patched log message.") # Expected output: Patched log message. | {'utc_time': 'YYYY-MM-DDTHH:MM:SS.ffffff'} (timestamp will vary)
Loguru provides features for enriching log messages with contextual information. These mechanisms allow for the inclusion of temporary, thread-local, or dynamically modified data within log records, making logs more informative for debugging and analysis.
The [`bind`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L1471) method, part of the [`Logger`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L231) class in [`loguru/_logger.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py), creates a new logger instance where all subsequent log messages automatically include specified key-value pairs in their [`extra`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L204) dictionary. This is useful for consistently adding common attributes, such as a request ID or user session data, to a series of log entries without repeating them in every logging call.
For managing contextual data in environments with multiple threads or asynchronous operations, Loguru offers [`contextualize`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L1508). This method, also part of the [`Logger`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L231) class in [`loguru/_logger.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py), acts as a context manager. Within its scope, any specified key-value pairs are added to the [`extra`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L204) dictionary of log records. It leverages [`contextvars`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L41) to ensure that this contextual information is correctly associated with the executing thread or [`asyncio`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L72) task, providing thread-safe and async-safe data enrichment.
The [`patch`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/tests/test_recattr.py#L8) method, found within the [`Logger`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L231) class in [`loguru/_logger.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py), allows for dynamic modification of the log [`record`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/README.md?plain=1#L86) dictionary itself before it is sent to any handlers. By providing a callable "patcher" function, developers can inject or alter data within the record. This offers a flexible way to add complex, calculated, or conditionally derived information to log entries that might not be easily managed through simple key-value bindings.
### Advanced Utilities and Cross-Platform Compatibility
link
zoom_in
Loguru includes supporting utilities to ensure consistent behavior and enhanced functionality across various operating systems and environments. These utilities handle challenges such as [`asyncio`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L72) event loop management, platform-specific file time operations, ANSI colorization, and robust parsing of diverse string formats.
For [`asyncio`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L72) loop management, Loguru addresses differences in [`asyncio`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L72) API across Python versions. The functions in [`loguru/_asyncio_loop.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_asyncio_loop.py) abstract [`asyncio`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L72) event loop handling by providing a unified interface, [`get_task_loop`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_asyncio_loop.py#L8) and [`get_running_loop`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_asyncio_loop.py#L18), which adapt their implementation based on the detected Python version (e.g., Python 3.6 vs. 3.7+). This allows Loguru to interact with [`asyncio`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L72) tasks and loops without requiring version-specific checks in other parts of the codebase.
Loguru also incorporates platform-specific logic for handling file creation times. The functions in [`loguru/_ctime_functions.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_ctime_functions.py) dynamically load the appropriate [`get_ctime`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_ctime_functions.py#L57) and [`set_ctime`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_ctime_functions.py#L57) implementations depending on the operating system. For Windows, it leverages [`win32_setctime`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_ctime_functions.py#L6); for macOS, it uses [`st_birthtime`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_ctime_functions.py#L22); and for Linux, it attempts to use extended attributes. In cases where platform-specific methods are unavailable, it gracefully falls back to using the file modification time, ensuring broad compatibility while attempting to provide the most accurate creation time where possible.
Sophisticated ANSI colorization is managed through components that determine when and how to apply colors to terminal output. The [`should_colorize`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_colorama.py#L6) function in [`loguru/_colorama.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_colorama.py) evaluates various factors, including environment variables, terminal capabilities, and the execution environment (e.g., IPython, CI pipelines), to decide if colored output is appropriate. For Windows, [`should_wrap`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_colorama.py#L57) and [`wrap`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_colorama.py#L80) in the same file integrate with [`colorama`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/CHANGELOG.rst#L116) to translate ANSI escape codes into Windows API calls, enabling colored output on consoles that do not natively support ANSI. Further, the [`Colorizer`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_colorizer.py#L385) in [`loguru/_colorizer.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_colorizer.py) processes log messages containing custom color tags (e.g., [`<red>`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L791)text[`</red>`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L791)), converting them into appropriate ANSI escape sequences while also integrating with Python's standard string formatting mechanisms.
Robust parsing of various string formats is handled by utilities in [`loguru/_string_parsers.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_string_parsers.py). This includes [`parse_duration`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_string_parsers.py#L143) for converting human-readable duration strings (e.g., "1h 30min") into [`datetime.timedelta`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_logger.py#L37) objects and [`parse_size`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_string_parsers.py#L102) for interpreting size strings (e.g., "100MB") into bit values. The [`Frequencies`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_string_parsers.py#L6) class provides methods to calculate next occurrences based on frequency strings (e.g., "hourly", "daily"). These parsing capabilities provide flexible ways to configure logging behaviors, such as file rotation and retention. Additionally, [`loguru/_datetime.py`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_datetime.py) extends Python's [`datetime`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_datetime.py#L139) object to offer enhanced formatting capabilities, supporting custom specifiers beyond [`strftime`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/loguru/_datetime.py#L6) directives and consistent UTC handling, which is crucial for precise log timestamping.
## Project Security and Vulnerability Reporting
link
zoom_in
The Loguru project maintains a clear security policy, detailed in [`.github/SECURITY.md`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/.github/SECURITY.md), to address vulnerabilities and ensure the integrity of the library. This policy outlines supported versions and the procedure for reporting potential security issues.
### Supported Versions and Patching Policy
Only the latest major version of Loguru receives security patches. Older versions are generally not retroactively patched. This approach ensures that development resources are focused on maintaining the security of the most current release, as described in [Supported Versions and Patching Policy](https://codewiki.google/github.com/Delgan/loguru#project-security-and-vulnerability-reporting-supported-versions-and-patching-policy).
### Vulnerability Reporting Process
To report a security vulnerability, individuals are directed to email [`delgan.py@gmail.com`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/pyproject.toml#L6). The report should include a detailed description of the vulnerability, steps to reproduce it, a list of affected Loguru versions, and any known mitigations. Upon confirmation, the project team will either fix the vulnerability directly or document mitigating solutions within the "Security considerations when using Loguru" section of the official documentation, as further detailed in [Vulnerability Reporting Process](https://codewiki.google/github.com/Delgan/loguru#project-security-and-vulnerability-reporting-vulnerability-reporting-process). The [`.github`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/.github) directory contains the relevant policies and procedures for handling such reports.
### Supported Versions and Patching Policy
link
The Loguru project's security policy, as outlined in [`.github/SECURITY.md`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/.github/SECURITY.md), specifies that security patches are provided only for the latest major version of the library. Older versions typically do not receive retroactive patches. This approach centralizes security efforts on the most current stable release, ensuring that users leveraging the latest features also benefit from ongoing security maintenance. For information on reporting vulnerabilities, see [Vulnerability Reporting Process](https://codewiki.google/github.com/Delgan/loguru#project-security-and-vulnerability-reporting-vulnerability-reporting-process).
### Vulnerability Reporting Process
link
zoom_in
To report a security vulnerability within the Loguru project, individuals are instructed to email [`delgan.py@gmail.com`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/pyproject.toml#L6). The report should include a detailed description of the vulnerability, steps to reproduce it, the affected Loguru versions, and any known mitigations. This process is outlined in the security policy document found in [`.github/SECURITY.md`](https://github.com/delgan/loguru/blob/36da8cca14457f6e1d1bbca25fb29ba42b2d70cb/.github/SECURITY.md). Upon confirmation of the vulnerability, it will be addressed, or mitigating solutions will be documented in the "Security considerations when using Loguru" section of the official documentation. For information on which versions of Loguru are currently supported with security patches, refer to [Supported Versions and Patching Policy](https://codewiki.google/github.com/Delgan/loguru#project-security-and-vulnerability-reporting-supported-versions-and-patching-policy).
[FAQ](https://codewiki.google/faq) Feedback [ Terms ](https://policies.google.com/terms)[ Privacy ](https://policies.google.com/privacy)
Toggle theme. Current: Dark
Share
Copy code
View on GitHub
